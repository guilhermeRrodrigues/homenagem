{% extends "base.html" %}

{% block title %}Administração - Site de Homenagens{% endblock %}

{% block content %}
<div class="admin-container">
    <!-- Header administrativo -->
    <div class="admin-header">
        <h1 class="admin-title">
            <i class="fas fa-cog"></i>
            Área Administrativa
        </h1>
        <p class="admin-subtitle">Gerencie as homenagens e mensagens especiais</p>
        
    </div>

    <!-- Formulário para adicionar nova homenagem -->
    <div class="add-tribute-section">
        <div class="section-header">
            <h2>
                <i class="fas fa-plus-circle"></i>
                Adicionar Nova Homenagem
            </h2>
        </div>
        
        <form id="addTributeForm" class="tribute-form">
            <div class="form-group">
                <label for="authorName" class="form-label">
                    <i class="fas fa-user"></i>
                    Nome de quem escreveu
                </label>
                <input type="text" id="authorName" name="author" class="form-input" 
                       placeholder="Digite seu nome" required>
            </div>
            
            <div class="form-group">
                <label for="tributeMessage" class="form-label">
                    <i class="fas fa-heart"></i>
                    Mensagem de homenagem
                </label>
                <textarea id="tributeMessage" name="message" class="form-textarea" 
                          placeholder="Escreva sua mensagem carinhosa aqui..." 
                          rows="4" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="tributeImage" class="form-label">
                    <i class="fas fa-image"></i>
                    Imagem (opcional)
                </label>
                <div class="image-upload-container">
                    <input type="file" id="tributeImage" name="image" 
                           accept="image/*" class="file-input">
                    <label for="tributeImage" class="file-label">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span class="file-text">Escolher Imagem</span>
                    </label>
                    <div class="image-preview" id="imagePreview" style="display: none;">
                        <img id="previewImg" src="" alt="Preview">
                        <button type="button" class="remove-image" onclick="removeImage()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="submit-btn">
                    <i class="fas fa-heart"></i>
                    Adicionar Homenagem
                </button>
                <button type="button" class="clear-btn" onclick="clearForm()">
                    <i class="fas fa-eraser"></i>
                    Limpar
                </button>
            </div>
        </form>
    </div>

    <!-- Lista de homenagens existentes -->
    <div class="tributes-list-section">
        <div class="section-header">
            <h2>
                <i class="fas fa-list"></i>
                Homenagens Existentes
                <span class="tribute-count" id="tributeCount">(0)</span>
            </h2>
        </div>
        
        <div class="tributes-list" id="tributesList">
            <div class="loading-tributes">
                <div class="loading-spinner"></div>
                <p>Carregando homenagens...</p>
            </div>
        </div>
    </div>

    <!-- Mensagem de sucesso/erro -->
    <div class="alert-container" id="alertContainer"></div>
</div>
{% endblock %}
